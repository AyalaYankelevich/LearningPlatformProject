<div class="admin-dashboard">
  <div class="button-bar">
    <button (click)="showUsers()" [class.active]="view==='users'">Show Users</button>
    <button (click)="showPrompts()" [class.active]="view==='prompts'">Show Prompts</button>
    <button (click)="hideAll()" *ngIf="view!=='none'">Hide</button>
  </div>

  <div *ngIf="loading" class="loading">Loading...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <!-- Users Table -->
  <div *ngIf="view === 'users'">
    <h2>Users</h2>
    <table class="user-table" *ngIf="users.length > 0">
      <thead>
        <tr>
          <th>ID</th><th>First Name</th><th>Last Name</th><th>Email</th><th>Role</th><th>Created At</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.id }}</td>
          <td>{{ user.firstName }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.email }}</td>
          <td>
            <span class="role-badge" [class.admin]="user.role==='admin'">{{ user.role }}</span>
          </td>
          <td>{{ user.createdAt | date:'short' }}</td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="users.length === 0" class="empty-msg">No users found.</div>
  </div>

  <!-- Prompts Table -->
  <div *ngIf="view === 'prompts'">
  <h2>Prompts</h2>
  <table class="prompt-table" *ngIf="prompts.length > 0">
    <thead>
      <tr>
                <th>User ID</th>
        <th>Sub Topic</th>
        <th>Question</th>
        <th>Response</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let prompt of prompts">
        <td>{{ prompt.user_id }}</td>
        <td>{{ prompt.sub_topicId }}</td>
        <td>{{ prompt.prompt }}</td>
        <td>{{ prompt.response }}</td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="prompts.length === 0" class="empty-msg">No prompts found.</div>
</div>